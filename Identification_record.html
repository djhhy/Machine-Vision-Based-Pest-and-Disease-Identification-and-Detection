<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯†åˆ«è®°å½• - å†œä½œç‰©ç—…è™«å®³è¯†åˆ«ç³»ç»Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f9fafb 0%, #ffffff 50%, #f9fafb 100%);
            color: #111827;
            min-height: 100vh;
        }

        /* é¡¶éƒ¨å¯¼èˆªæ  */
        .navbar {
            background: white;
            border-bottom: 1px solid #e5e7eb;
            padding: 1rem 0;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .navbar-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .logo-text h1 {
            font-size: 1.25rem;
            font-weight: 700;
            color: #111827;
        }

        .logo-text p {
            font-size: 0.75rem;
            color: #6b7280;
        }

        .user-section {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-info {
            text-align: right;
        }

        .user-info p {
            font-size: 0.875rem;
            font-weight: 500;
            color: #111827;
        }

        .user-info span {
            font-size: 0.75rem;
            color: #6b7280;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background-image: url('Part1/images/default-avatar.png');
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            object-fit: cover;
        }

        .navbar a {
            color: white;
            text-decoration: none;
        }

        /* é¡µé¢æ ‡é¢˜åŒºåŸŸ */
        .page-header {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1.5rem 1.5rem 0;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .back-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: #f3f4f6;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.875rem;
            color: #374151;
            transition: all 0.3s;
            text-decoration: none;
        }

        .back-btn:hover {
            background: #e5e7eb;
        }

        .page-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #111827;
        }

        /* ä¸»å†…å®¹åŒº */
        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1.5rem 1.5rem 2rem;
        }

        /* ç»Ÿè®¡å¡ç‰‡åŒºåŸŸ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            border-left: 4px solid;
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        .stat-card.blue { border-left-color: #3b82f6; }
        .stat-card.green { border-left-color: #10b981; }
        .stat-card.purple { border-left-color: #8b5cf6; }
        .stat-card.orange { border-left-color: #f59e0b; }

        .stat-label {
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 0.5rem;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #111827;
        }

        .stat-trend {
            font-size: 0.875rem;
            margin-top: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .stat-trend.up { color: #10b981; }
        .stat-trend.down { color: #ef4444; }

        /* ç­›é€‰å·¥å…·æ  */
        .toolbar {
            background: white;
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .toolbar-content {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            align-items: center;
        }

        .search-box {
            flex: 1;
            min-width: 250px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            transition: all 0.3s;
        }

        .search-box input:focus {
            outline: none;
            border-color: #8b5cf6;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: #9ca3af;
        }

        .filter-group {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }

        .filter-select {
            padding: 0.75rem 1rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            background: white;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .filter-select:focus {
            outline: none;
            border-color: #8b5cf6;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-weight: 600;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
        }

        .btn-secondary {
            background: #f3f4f6;
            color: #374151;
        }

        .btn-secondary:hover {
            background: #e5e7eb;
        }

        /* è®°å½•è¡¨æ ¼ */
        .records-table-container {
            background: white;
            border-radius: 1rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }

        .table-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table-header h3 {
            font-size: 1.125rem;
            font-weight: 600;
            color: #111827;
        }

        .records-count {
            font-size: 0.875rem;
            color: #6b7280;
        }

        .records-table {
            width: 100%;
            border-collapse: collapse;
        }

        .records-table thead {
            background: #f9fafb;
        }

        .records-table th {
            padding: 1rem 1.5rem;
            text-align: left;
            font-size: 0.75rem;
            font-weight: 600;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .records-table td {
            padding: 1rem 1.5rem;
            border-top: 1px solid #f3f4f6;
            font-size: 0.875rem;
        }

        .records-table tbody tr {
            transition: all 0.3s;
        }

        .records-table tbody tr:hover {
            background: #f9fafb;
        }

        /* çŠ¶æ€æ ‡ç­¾ */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .status-badge.success {
            background: #d1fae5;
            color: #065f46;
        }

        .status-badge.error {
            background: #fee2e2;
            color: #991b1b;
        }

        .status-badge.warning {
            background: #fef3c7;
            color: #92400e;
        }

        /* ä½œç‰©ç±»å‹æ ‡ç­¾ */
        .crop-tag {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .crop-tag.tomato { background: #fee2e2; color: #991b1b; }
        .crop-tag.rice { background: #d1fae5; color: #065f46; }
        .crop-tag.corn { background: #fef3c7; color: #92400e; }
        .crop-tag.wheat { background: #fce7f3; color: #9d174d; }
        .crop-tag.pepper { background: #f3e8ff; color: #6b21a8; }

        /* ä¸¥é‡ç¨‹åº¦æ ‡ç­¾ */
        .severity-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .severity-badge.mild { background: #d1fae5; color: #065f46; }
        .severity-badge.moderate { background: #fef3c7; color: #92400e; }
        .severity-badge.severe { background: #fee2e2; color: #991b1b; }

        /* ç½®ä¿¡åº¦è¿›åº¦æ¡ */
        .confidence-progress {
            width: 100px;
            height: 6px;
            background: #e5e7eb;
            border-radius: 3px;
            overflow: hidden;
            position: relative;
        }

        .confidence-fill {
            height: 100%;
            border-radius: 3px;
        }

        .confidence-fill.high { background: linear-gradient(90deg, #10b981 0%, #059669 100%); }
        .confidence-fill.medium { background: linear-gradient(90deg, #f59e0b 0%, #d97706 100%); }
        .confidence-fill.low { background: linear-gradient(90deg, #ef4444 0%, #dc2626 100%); }

        .confidence-text {
            font-size: 0.75rem;
            color: #6b7280;
            margin-top: 0.25rem;
        }

        /* æ“ä½œæŒ‰é’® */
        .action-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .action-btn {
            padding: 0.5rem;
            border: none;
            background: #f3f4f6;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.3s;
            color: #6b7280;
        }

        .action-btn:hover {
            background: #e5e7eb;
            color: #111827;
        }

        /* è¯¦æƒ…æ¨¡æ€æ¡† */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 1rem;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            font-size: 1.25rem;
            font-weight: 700;
        }

        .close-btn {
            width: 32px;
            height: 32px;
            border: none;
            background: #f3f4f6;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .close-btn:hover {
            background: #e5e7eb;
        }

        .modal-body {
            padding: 1.5rem;
        }

        .detail-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .detail-item {
            padding: 1rem;
            background: #f9fafb;
            border-radius: 0.5rem;
        }

        .detail-label {
            font-size: 0.75rem;
            color: #6b7280;
            margin-bottom: 0.25rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .detail-value {
            font-size: 1rem;
            font-weight: 600;
            color: #111827;
        }

        .detail-image {
            grid-column: 1 / -1;
            text-align: center;
        }

        .detail-image img {
            max-width: 100%;
            max-height: 300px;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .treatment-card {
            grid-column: 1 / -1;
            padding: 1.5rem;
            background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%);
            border-radius: 0.5rem;
            margin-top: 1rem;
        }

        .treatment-title {
            font-size: 1rem;
            font-weight: 700;
            color: #0369a1;
            margin-bottom: 0.5rem;
        }

        .treatment-content {
            color: #0c4a6e;
            line-height: 1.5;
        }

        /* é¡µè„š */
        footer {
            background: white;
            border-top: 1px solid #e5e7eb;
            margin-top: 3rem;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .footer-content p {
            font-size: 0.875rem;
            color: #6b7280;
        }

        .footer-links {
            display: flex;
            gap: 1.5rem;
        }

        .footer-links a {
            font-size: 0.875rem;
            color: #6b7280;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: #111827;
        }

        /* å“åº”å¼ */
        @media (max-width: 1024px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .toolbar-content {
                flex-direction: column;
                align-items: stretch;
            }

            .filter-group {
                width: 100%;
            }

            .filter-select {
                flex: 1;
            }
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }

            .records-table {
                display: block;
                overflow-x: auto;
            }

            .detail-grid {
                grid-template-columns: 1fr;
            }

            .detail-image {
                grid-column: 1;
            }

            .treatment-card {
                grid-column: 1;
            }

            .footer-content {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="navbar-content">
            <div class="logo-section">
                <div class="logo-icon">ğŸŒ¿</div>
                <div class="logo-text">
                    <h1>æ™ºæ…§å†œä¸šç—…è™«å®³è¯†åˆ«ç³»ç»Ÿ</h1>
                    <p>Agricultural Disease Detection System</p>
                </div>
            </div>
            <div class="user-section">
                <div class="user-info">
                    <p>æ¬¢è¿å›æ¥</p>
                    <span>ä¸Šæ¬¡ç™»å½•: 2å°æ—¶å‰</span>
                </div>
                <div class="user-avatar"><a href="Part1/profile.html">éŸ©</a></div>
            </div>
        </div>
    </nav>

    <!-- é¡µé¢æ ‡é¢˜åŒºåŸŸ -->
    <div class="page-header">
        <button class="back-btn" onclick="goBack()">
            â† è¿”å›
        </button>
        <h1 class="page-title">è¯†åˆ«è®°å½•</h1>
    </div>

    <!-- ä¸»å†…å®¹åŒº -->
    <main class="main-content">
        <!-- ç»Ÿè®¡å¡ç‰‡ -->
        <div class="stats-grid">
            <div class="stat-card blue">
                <div class="stat-label">æ€»è¯†åˆ«æ¬¡æ•°</div>
                <div class="stat-value">152</div>
                <div class="stat-trend up">
                    â†‘ æœ¬å‘¨ +12 æ¬¡
                </div>
            </div>

            <div class="stat-card green">
                <div class="stat-label">å¹³å‡å‡†ç¡®ç‡</div>
                <div class="stat-value">93.8%</div>
                <div class="stat-trend up">
                    â†‘ è¾ƒä¸Šæœˆ +1.5%
                </div>
            </div>

            <div class="stat-card purple">
                <div class="stat-label">ä»Šæ—¥è¯†åˆ«</div>
                <div class="stat-value">8</div>
                <div class="stat-trend up">
                    â†‘ è¾ƒæ˜¨æ—¥ +3
                </div>
            </div>

            <div class="stat-card orange">
                <div class="stat-label">éœ€è¦å¤„ç†</div>
                <div class="stat-value">5</div>
                <div class="stat-trend down">
                    â†“ è¾ƒä¸Šå‘¨ -2
                </div>
            </div>
        </div>

        <!-- ç­›é€‰å·¥å…·æ  -->
        <div class="toolbar">
            <div class="toolbar-content">
                <div class="search-box">
                    <span class="search-icon">ğŸ”</span>
                    <input type="text" placeholder="æœç´¢è®°å½•IDã€ç—…å®³åç§°..." id="searchInput">
                </div>

                <div class="filter-group">
                    <select class="filter-select" id="cropFilter">
                        <option value="">æ‰€æœ‰ä½œç‰©</option>
                        <option value="tomato">ç•ªèŒ„</option>
                        <option value="rice">æ°´ç¨»</option>
                        <option value="corn">ç‰ç±³</option>
                        <option value="wheat">å°éº¦</option>
                        <option value="pepper">è¾£æ¤’</option>
                    </select>

                    <select class="filter-select" id="statusFilter">
                        <option value="">æ‰€æœ‰çŠ¶æ€</option>
                        <option value="correct">è¯†åˆ«æ­£ç¡®</option>
                        <option value="warning">éœ€è¦ç¡®è®¤</option>
                        <option value="error">è¯†åˆ«é”™è¯¯</option>
                    </select>

                    <select class="filter-select" id="severityFilter">
                        <option value="">ä¸¥é‡ç¨‹åº¦</option>
                        <option value="mild">è½»åº¦</option>
                        <option value="moderate">ä¸­åº¦</option>
                        <option value="severe">é‡åº¦</option>
                    </select>
                </div>

                <button class="btn btn-primary" onclick="exportData()">
                    ğŸ“¥ å¯¼å‡ºæ•°æ®
                </button>

                <button class="btn btn-secondary" onclick="resetFilters()">
                    ğŸ”„ é‡ç½®ç­›é€‰
                </button>
            </div>
        </div>

        <!-- è®°å½•è¡¨æ ¼ -->
        <div class="records-table-container">
            <div class="table-header">
                <h3>è¯†åˆ«è®°å½•åˆ—è¡¨</h3>
                <span class="records-count">å…± <strong id="totalRecords">12</strong> æ¡è®°å½•</span>
            </div>

            <table class="records-table">
                <thead>
                    <tr>
                        <th>è®°å½•ID</th>
                        <th>ç”¨æˆ·</th>
                        <th>ä½œç‰©ç±»å‹</th>
                        <th>è¯†åˆ«ç»“æœ</th>
                        <th>ç½®ä¿¡åº¦</th>
                        <th>ä¸¥é‡ç¨‹åº¦</th>
                        <th>è¯†åˆ«æ—¶é—´</th>
                        <th>çŠ¶æ€</th>
                        <th>æ“ä½œ</th>
                    </tr>
                </thead>
                <tbody id="recordsTableBody">
                    <!-- åŠ¨æ€ç”Ÿæˆçš„è®°å½•è¡Œ -->
                </tbody>
            </table>
        </div>
    </main>

    <!-- é¡µè„š -->
    <footer>
        <div class="footer-content">
            <p>Â© 2025 ç‡•å±±å¤§å­¦ æ™ºæ…§å†œä¸šç—…è™«å®³è¯†åˆ«ç³»ç»Ÿ v2.3.1</p>
            <div class="footer-links">
                <a href="#" onclick="navigateTo('help')">ä½¿ç”¨å¸®åŠ©</a>
                <a href="#" onclick="navigateTo('privacy')">éšç§æ”¿ç­–</a>
                <a href="#" onclick="navigateTo('knowledge')">çŸ¥è¯†åº“</a>
            </div>
        </div>
    </footer>

    <!-- è¯¦æƒ…æ¨¡æ€æ¡† -->
    <div class="modal" id="detailModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>è¯†åˆ«è®°å½•è¯¦æƒ…</h3>
                <button class="close-btn" onclick="closeModal()">âœ•</button>
            </div>
            <div class="modal-body">
                <div class="detail-grid">
                    <div class="detail-item">
                        <div class="detail-label">è®°å½•ID</div>
                        <div class="detail-value" id="modalRecordId">-</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">ç”¨æˆ·åç§°</div>
                        <div class="detail-value" id="modalUser">-</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">ä½œç‰©ç±»å‹</div>
                        <div class="detail-value" id="modalCrop">-</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">è¯†åˆ«ç»“æœ</div>
                        <div class="detail-value" id="modalDisease">-</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">ç½®ä¿¡åº¦</div>
                        <div class="detail-value" id="modalConfidence">-</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">ä¸¥é‡ç¨‹åº¦</div>
                        <div class="detail-value" id="modalSeverity">-</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">è¯†åˆ«æ—¶é—´</div>
                        <div class="detail-value" id="modalTime">-</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">åœ°ç†ä½ç½®</div>
                        <div class="detail-value" id="modalLocation">-</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">è¯†åˆ«æ¨¡å‹</div>
                        <div class="detail-value" id="modalModel">-</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">å¤„ç†çŠ¶æ€</div>
                        <div class="detail-value" id="modalTreatmentStatus">-</div>
                    </div>
                    
                    <div class="detail-item" style="grid-column: 1 / -1;">
                        <div class="detail-label">ç—…å®³ç‰¹å¾æè¿°</div>
                        <div class="detail-value" id="modalDescription">-</div>
                    </div>
                    
                    <div class="detail-image">
                        <div class="detail-label">è¯†åˆ«å›¾ç‰‡</div>
                        <img id="modalImage" src="" alt="è¯†åˆ«å›¾ç‰‡">
                    </div>
                    
                    <div class="detail-item" style="grid-column: 1 / -1;">
                        <div class="detail-label">ç”¨æˆ·åé¦ˆ</div>
                        <div class="detail-value" id="modalFeedback">-</div>
                    </div>
                    
                    <div class="treatment-card" id="modalTreatment">
                        <div class="treatment-title">é˜²æ²»å»ºè®®</div>
                        <div class="treatment-content" id="modalTreatmentContent">-</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // è¯¦ç»†çš„æ¨¡æ‹Ÿæ•°æ® - 12æ¡è®°å½•
        const recordsData = [
            {
                id: 'REC20250115001',
                user: 'å¼ æ˜',
                crop: 'ç•ªèŒ„',
                cropType: 'tomato',
                disease: 'ç•ªèŒ„æ—©ç–«ç—…',
                description: 'å¶ç‰‡å‡ºç°è¤è‰²åœ†å½¢ç—…æ–‘ï¼Œæœ‰æ˜æ˜¾åŒå¿ƒè½®çº¹ï¼Œè¾¹ç¼˜ä¸ºé»„ç»¿è‰²æ™•åœˆï¼Œç—…æ–‘ä¸­å¿ƒæ˜“ç ´è£‚ç©¿å­”ã€‚',
                confidence: 96.2,
                confidenceLevel: 'high',
                severity: 'ä¸­åº¦',
                severityLevel: 'moderate',
                time: '2025-01-15 14:23:45',
                location: 'æ²³åŒ—çœç§¦çš‡å²›å¸‚æ˜Œé»å¿',
                coordinates: '39.9042Â°N, 119.6002Â°E',
                model: 'ResNet-50 v2.3',
                status: 'correct',
                treatmentStatus: 'å·²å¤„ç†',
                feedback: 'è¯†åˆ«å‡†ç¡®ï¼Œå·²æŒ‰ç…§å»ºè®®ä½¿ç”¨è‹¯é†šç”²ç¯å”‘è¿›è¡Œé˜²æ²»ï¼Œæ•ˆæœè‰¯å¥½ã€‚',
                treatment: 'å»ºè®®ä½¿ç”¨25%å˜§èŒé…¯æ‚¬æµ®å‰‚1500å€æ¶²å–·é›¾ï¼Œæ¯éš”7-10å¤©ä¸€æ¬¡ï¼Œè¿ç»­2-3æ¬¡ã€‚åŠ å¼ºç”°é—´é€šé£ï¼ŒåŠæ—¶æ¸…é™¤ç—…æ®‹ä½“ã€‚',
                image: 'https://images.unsplash.com/photo-1590502593746-0d3e99d2c324?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80'
            },
            {
                id: 'REC20250115002',
                user: 'æå»ºå›½',
                crop: 'æ°´ç¨»',
                cropType: 'rice',
                disease: 'æ°´ç¨»çº¹æ¯ç—…',
                description: 'å¶é˜äº§ç”Ÿäº‘çº¹çŠ¶ç—…æ–‘ï¼Œè¾¹ç¼˜è¤è‰²ï¼Œä¸­éƒ¨ç°ç™½è‰²ï¼Œä¸¥é‡æ—¶å¶ç‰‡æ¯é»„ï¼ŒèŒç§†åŸºéƒ¨è…çƒ‚ã€‚',
                confidence: 91.8,
                confidenceLevel: 'high',
                severity: 'è½»åº¦',
                severityLevel: 'mild',
                time: '2025-01-15 14:18:32',
                location: 'å±±ä¸œçœæ½åŠå¸‚å¯¿å…‰å¸‚',
                coordinates: '36.8625Â°N, 118.7688Â°E',
                model: 'EfficientNet-B4',
                status: 'correct',
                treatmentStatus: 'å¤„ç†ä¸­',
                feedback: 'è¯†åˆ«å‡†ç¡®ï¼Œæ­£åœ¨æŒ‰ç…§å»ºè®®è¿›è¡Œé˜²æ²»ã€‚',
                treatment: 'ä½¿ç”¨20%äº•å†ˆéœ‰ç´ å¯æ¹¿æ€§ç²‰å‰‚æ¯äº©100å…‹å…‘æ°´å–·é›¾ï¼Œæˆ–5%äº•å²—éœ‰ç´ æ°´å‰‚æ¯äº©150æ¯«å‡ã€‚ä¿æŒç”°é—´é€‚åº¦å¹²æ¹¿äº¤æ›¿ã€‚',
                image: 'https://images.unsplash.com/photo-1621115714963-9da77e2ce2c9?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80'
            },
            {
                id: 'REC20250115003',
                user: 'ç‹ç§€è‹±',
                crop: 'ç‰ç±³',
                cropType: 'corn',
                disease: 'ç‰ç±³å¤§æ–‘ç—…',
                description: 'å¶ç‰‡ä¸Šå‡ºç°æ¢­å½¢æˆ–é•¿æ¤­åœ†å½¢å¤§æ–‘ï¼Œç—…æ–‘ä¸­å¤®ç°è¤è‰²ï¼Œè¾¹ç¼˜æ·±è¤è‰²ï¼Œé•¿åº¦å¯è¾¾5-10å˜ç±³ã€‚',
                confidence: 89.3,
                confidenceLevel: 'high',
                severity: 'ä¸­åº¦',
                severityLevel: 'moderate',
                time: '2025-01-15 14:15:18',
                location: 'æ±Ÿè‹çœå—äº¬å¸‚å…­åˆåŒº',
                coordinates: '32.3047Â°N, 118.8029Â°E',
                model: 'VGG-16 v3.1',
                status: 'warning',
                treatmentStatus: 'éœ€ä¸“å®¶ç¡®è®¤',
                feedback: 'è¯†åˆ«ç»“æœå¯èƒ½ä¸å®é™…æƒ…å†µæœ‰å·®å¼‚ï¼Œå»ºè®®ä¸“å®¶å¤æŸ¥ã€‚',
                treatment: 'å»ºè®®ä½¿ç”¨50%å¤šèŒçµå¯æ¹¿æ€§ç²‰å‰‚500å€æ¶²å–·é›¾ï¼Œæˆ–75%ç™¾èŒæ¸…å¯æ¹¿æ€§ç²‰å‰‚600å€æ¶²ã€‚æ³¨æ„è½®ä½œå€’èŒ¬ã€‚',
                image: 'https://images.unsplash.com/photo-1592924357228-91a4daadcfea?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80'
            },
            {
                id: 'REC20250115004',
                user: 'èµµä¸½å',
                crop: 'ç•ªèŒ„',
                cropType: 'tomato',
                disease: 'ç•ªèŒ„æ™šç–«ç—…',
                description: 'å¶ç‰‡è¾¹ç¼˜å‡ºç°æ°´æµ¸çŠ¶æš—ç»¿è‰²ç—…æ–‘ï¼Œæ½®æ¹¿æ—¶ç—…æ–‘è¾¹ç¼˜äº§ç”Ÿç™½è‰²éœ‰å±‚ï¼Œæœå®ä¸Šæœ‰è¤è‰²å‡¹é™·ç—…æ–‘ã€‚',
                confidence: 78.5,
                confidenceLevel: 'medium',
                severity: 'é‡åº¦',
                severityLevel: 'severe',
                time: '2025-01-15 14:08:56',
                location: 'æµ™æ±Ÿçœæ­å·å¸‚è§å±±åŒº',
                coordinates: '30.1838Â°N, 120.2648Â°E',
                model: 'MobileNet v2.0',
                status: 'error',
                treatmentStatus: 'æœªå¤„ç†',
                feedback: 'å®é™…ä¸ºæ—©ç–«ç—…ï¼Œå»ºè®®ä¿®æ­£è¯†åˆ«ç»“æœã€‚',
                treatment: 'ä½¿ç”¨68.75%æ°Ÿå¡èŒèƒºÂ·éœœéœ‰å¨æ‚¬æµ®å‰‚1000å€æ¶²å–·é›¾ï¼Œæˆ–52.5%å™é…®Â·éœœè„²æ°°æ°´åˆ†æ•£ç²’å‰‚1500å€æ¶²ã€‚',
                image: 'https://images.unsplash.com/photo-1464226184884-fa280b87c399?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80'
            },
            {
                id: 'REC20250115005',
                user: 'å­™ä¼Ÿ',
                crop: 'å°éº¦',
                cropType: 'wheat',
                disease: 'å°éº¦èµ¤éœ‰ç—…',
                description: 'éº¦ç©—é¢–å£³åŸºéƒ¨å‡ºç°æ°´æµ¸çŠ¶æ·¡è¤è‰²ç—…æ–‘ï¼Œåæ‰©å¤§è‡³æ•´ä¸ªå°ç©—ï¼Œç—…éƒ¨äº§ç”Ÿç²‰çº¢è‰²éœ‰å±‚ã€‚',
                confidence: 94.7,
                confidenceLevel: 'high',
                severity: 'ä¸­åº¦',
                severityLevel: 'moderate',
                time: '2025-01-15 14:02:11',
                location: 'å®‰å¾½çœåˆè‚¥å¸‚è‚¥è¥¿å¿',
                coordinates: '31.7094Â°N, 117.1615Â°E',
                model: 'ResNet-101 v1.5',
                status: 'correct',
                treatmentStatus: 'å·²å¤„ç†',
                feedback: 'è¯†åˆ«å‡†ç¡®ï¼Œé˜²æ²»åŠæ—¶ï¼Œç—…å®³å¾—åˆ°æ§åˆ¶ã€‚',
                treatment: 'æŠ½ç©—æ‰¬èŠ±æœŸä½¿ç”¨25%æ°°çƒ¯èŒé…¯æ‚¬æµ®å‰‚æ¯äº©100æ¯«å‡ï¼Œæˆ–50%å¤šèŒçµå¯æ¹¿æ€§ç²‰å‰‚æ¯äº©100å…‹å…‘æ°´å–·é›¾ã€‚',
                image: 'https://images.unsplash.com/photo-1594588150487-7a5c7c3c7b3c?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80'
            },
            {
                id: 'REC20250115006',
                user: 'å‘¨çº¢æ¢…',
                crop: 'è¾£æ¤’',
                cropType: 'pepper',
                disease: 'è¾£æ¤’ç–«ç—…',
                description: 'èŒåŸºéƒ¨å‡ºç°æš—ç»¿è‰²æ°´æµ¸çŠ¶ç—…æ–‘ï¼Œåå˜è¤è‰²ç¼¢ç¼©ï¼Œæ¤æ ªèè”«æ­»äº¡ï¼Œæ½®æ¹¿æ—¶ç—…éƒ¨æœ‰ç™½è‰²éœ‰å±‚ã€‚',
                confidence: 92.1,
                confidenceLevel: 'high',
                severity: 'è½»åº¦',
                severityLevel: 'mild',
                time: '2025-01-15 13:55:42',
                location: 'æ¹–å—çœé•¿æ²™å¸‚æœ›åŸåŒº',
                coordinates: '28.2981Â°N, 112.8165Â°E',
                model: 'Inception-v3',
                status: 'correct',
                treatmentStatus: 'å·²å¤„ç†',
                feedback: 'è¯†åˆ«å‡†ç¡®ï¼Œé˜²æ²»å»ºè®®å¾ˆå®ç”¨ã€‚',
                treatment: 'ä½¿ç”¨72%éœœè„²Â·é”°é”Œå¯æ¹¿æ€§ç²‰å‰‚600å€æ¶²çŒæ ¹ï¼Œæˆ–69%çƒ¯é…°Â·é”°é”Œå¯æ¹¿æ€§ç²‰å‰‚800å€æ¶²å–·é›¾ã€‚',
                image: 'https://images.unsplash.com/photo-1540420773420-3366772f4999?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80'
            },
            {
                id: 'REC20250115007',
                user: 'å´åˆš',
                crop: 'æ°´ç¨»',
                cropType: 'rice',
                disease: 'æ°´ç¨»ç¨»ç˜Ÿç—…',
                description: 'å¶ç‰‡ä¸Šå‡ºç°æ¢­å½¢ç—…æ–‘ï¼Œä¸­å¤®ç°ç™½è‰²ï¼Œè¾¹ç¼˜è¤è‰²ï¼Œç—…æ–‘ä¸¤ç«¯æœ‰è¤è‰²åæ­»çº¿ï¼Œæ¹¿åº¦å¤§æ—¶äº§ç”Ÿç°è‰²éœ‰å±‚ã€‚',
                confidence: 87.6,
                confidenceLevel: 'high',
                severity: 'ä¸­åº¦',
                severityLevel: 'moderate',
                time: '2025-01-15 13:48:21',
                location: 'æ¹–åŒ—çœæ­¦æ±‰å¸‚é»„é™‚åŒº',
                coordinates: '30.8826Â°N, 114.3743Â°E',
                model: 'DenseNet-121',
                status: 'warning',
                treatmentStatus: 'éœ€ä¸“å®¶ç¡®è®¤',
                feedback: 'éƒ¨åˆ†ç‰¹å¾ä¸æ˜æ˜¾ï¼Œå»ºè®®ä¸“å®¶è¿›ä¸€æ­¥è¯Šæ–­ã€‚',
                treatment: 'ä½¿ç”¨40%ç¨»ç˜Ÿçµä¹³æ²¹æ¯äº©100æ¯«å‡ï¼Œæˆ–75%ä¸‰ç¯å”‘å¯æ¹¿æ€§ç²‰å‰‚æ¯äº©30å…‹å…‘æ°´å–·é›¾ã€‚',
                image: 'https://images.unsplash.com/photo-1620241179307-e8e7c2f3b6f3?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80'
            },
            {
                id: 'REC20250115008',
                user: 'éƒ‘ç§€ä¸½',
                crop: 'ç‰ç±³',
                cropType: 'corn',
                disease: 'ç‰ç±³é”ˆç—…',
                description: 'å¶ç‰‡ä¸¤é¢äº§ç”Ÿé»„è¤è‰²å¤å­¢å­å †ï¼Œç ´è£‚åæ•£å‡ºé“é”ˆè‰²ç²‰æœ«ï¼ŒåæœŸäº§ç”Ÿé»‘è‰²å†¬å­¢å­å †ã€‚',
                confidence: 85.4,
                confidenceLevel: 'high',
                severity: 'è½»åº¦',
                severityLevel: 'mild',
                time: '2025-01-15 13:35:17',
                location: 'æ²³å—çœéƒ‘å·å¸‚ä¸­ç‰Ÿå¿',
                coordinates: '34.7207Â°N, 113.9805Â°E',
                model: 'ResNet-50 v2.1',
                status: 'correct',
                treatmentStatus: 'å¤„ç†ä¸­',
                feedback: 'è¯†åˆ«å‡†ç¡®ï¼Œæ­£åœ¨æŒ‰ç…§å»ºè®®é˜²æ²»ã€‚',
                treatment: 'ä½¿ç”¨25%ç²‰é”ˆå®å¯æ¹¿æ€§ç²‰å‰‚1000å€æ¶²ï¼Œæˆ–12.5%çƒ¯å”‘é†‡å¯æ¹¿æ€§ç²‰å‰‚2000å€æ¶²å–·é›¾ã€‚',
                image: 'https://images.unsplash.com/photo-1618897996318-5c8d89fd5b49?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80'
            },
            {
                id: 'REC20250114001',
                user: 'åˆ˜å¼º',
                crop: 'å°éº¦',
                cropType: 'wheat',
                disease: 'å°éº¦ç™½ç²‰ç—…',
                description: 'å¶ç‰‡è¡¨é¢è¦†ç›–ç™½è‰²ç²‰çŠ¶éœ‰å±‚ï¼ŒåæœŸéœ‰å±‚å˜ç°ï¼Œæ•£ç”Ÿé»‘è‰²å°ç²’ç‚¹ï¼Œå¶ç‰‡é»„åŒ–æ—©è¡°ã€‚',
                confidence: 93.8,
                confidenceLevel: 'high',
                severity: 'è½»åº¦',
                severityLevel: 'mild',
                time: '2025-01-14 16:42:33',
                location: 'å±±è¥¿çœè¿åŸå¸‚ç›æ¹–åŒº',
                coordinates: '35.0264Â°N, 110.9982Â°E',
                model: 'EfficientNet-B3',
                status: 'correct',
                treatmentStatus: 'å·²å¤„ç†',
                feedback: 'è¯†åˆ«å‡†ç¡®ï¼Œé˜²æ²»æ•ˆæœè‰¯å¥½ã€‚',
                treatment: 'ä½¿ç”¨15%ä¸‰å”‘é…®å¯æ¹¿æ€§ç²‰å‰‚æ¯äº©100å…‹ï¼Œæˆ–30%é†šèŒé…¯æ‚¬æµ®å‰‚æ¯äº©50æ¯«å‡å…‘æ°´å–·é›¾ã€‚',
                image: 'https://images.unsplash.com/photo-1523473827533-2a64d0d36748?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80'
            },
            {
                id: 'REC20250113001',
                user: 'é™ˆæ˜',
                crop: 'ç•ªèŒ„',
                cropType: 'tomato',
                disease: 'ç•ªèŒ„é»„åŒ–æ›²å¶ç—…æ¯’ç—…',
                description: 'æ¤æ ªçŸ®åŒ–ï¼Œé¡¶éƒ¨æ–°å¶å˜å°ã€çš±ç¼©ã€é»„åŒ–ï¼Œå¶ç‰‡è¾¹ç¼˜å‘ä¸Šå·æ›²ï¼Œå¶èƒŒå¶è„‰å‘ˆç´«è‰²ã€‚',
                confidence: 81.2,
                confidenceLevel: 'medium',
                severity: 'é‡åº¦',
                severityLevel: 'severe',
                time: '2025-01-13 11:28:45',
                location: 'å¹¿ä¸œçœå¹¿å·å¸‚ç™½äº‘åŒº',
                coordinates: '23.1572Â°N, 113.2734Â°E',
                model: 'MobileNet v1.8',
                status: 'warning',
                treatmentStatus: 'éœ€ä¸“å®¶ç¡®è®¤',
                feedback: 'ç—‡çŠ¶å¤æ‚ï¼Œå»ºè®®ä¸“å®¶ç°åœºè¯Šæ–­ã€‚',
                treatment: 'åŠæ—¶æ‹”é™¤ç—…æ ªï¼Œä½¿ç”¨5%é¦™è‡å¤šç³–æ°´å‰‚500å€æ¶²å–·é›¾ï¼Œé…åˆé˜²æ²»çƒŸç²‰è™±ã€‚',
                image: 'https://images.unsplash.com/photo-1579113800032-c38bd7635818?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80'
            },
            {
                id: 'REC20250112001',
                user: 'æ¨å»ºå›½',
                crop: 'æ°´ç¨»',
                cropType: 'rice',
                disease: 'æ°´ç¨»ç™½å¶æ¯ç—…',
                description: 'å¶ç‰‡è¾¹ç¼˜å‡ºç°æ°´æµ¸çŠ¶æš—ç»¿è‰²ç—…æ–‘ï¼Œåæ²¿å¶è„‰æ‰©å±•å½¢æˆé•¿æ¡çŠ¶é»„ç™½è‰²ç—…æ–‘ï¼Œç—…å¥äº¤ç•Œæ˜æ˜¾ã€‚',
                confidence: 88.9,
                confidenceLevel: 'high',
                severity: 'ä¸­åº¦',
                severityLevel: 'moderate',
                time: '2025-01-12 09:15:22',
                location: 'å››å·çœæˆéƒ½å¸‚éƒ«éƒ½åŒº',
                coordinates: '30.7951Â°N, 103.8876Â°E',
                model: 'VGG-19 v2.2',
                status: 'correct',
                treatmentStatus: 'å·²å¤„ç†',
                feedback: 'è¯†åˆ«å‡†ç¡®ï¼Œé˜²æ²»åŠæ—¶ã€‚',
                treatment: 'ä½¿ç”¨20%å¶æ¯å”‘å¯æ¹¿æ€§ç²‰å‰‚æ¯äº©100å…‹ï¼Œæˆ–20%å™»èŒé“œæ‚¬æµ®å‰‚æ¯äº©100æ¯«å‡å…‘æ°´å–·é›¾ã€‚',
                image: 'https://images.unsplash.com/photo-1587293852726-70cdb56c2866?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80'
            },
            {
                id: 'REC20250111001',
                user: 'é»„ç§€å…°',
                crop: 'ç‰ç±³',
                cropType: 'corn',
                disease: 'å¥åº·å¶ç‰‡',
                description: 'å¶ç‰‡é¢œè‰²é²œç»¿ï¼Œå½¢æ€æ­£å¸¸ï¼Œæ— ç—…æ–‘ã€è™«å®³ç­‰å¼‚å¸¸æƒ…å†µï¼Œæ¤æ ªç”Ÿé•¿å¥å£®ã€‚',
                confidence: 97.3,
                confidenceLevel: 'high',
                severity: 'æ— ',
                severityLevel: 'mild',
                time: '2025-01-11 15:42:19',
                location: 'å‰æ—çœé•¿æ˜¥å¸‚å†œå®‰å¿',
                coordinates: '44.4339Â°N, 125.1686Â°E',
                model: 'ResNet-34 v3.0',
                status: 'correct',
                treatmentStatus: 'æ— éœ€å¤„ç†',
                feedback: 'è¯†åˆ«å‡†ç¡®ï¼Œæ¤æ ªå¥åº·ã€‚',
                treatment: 'ä¿æŒè‰¯å¥½ç”°é—´ç®¡ç†ï¼Œå®šæœŸå·¡æŸ¥ï¼Œé¢„é˜²ç—…è™«å®³å‘ç”Ÿã€‚',
                image: 'https://images.unsplash.com/photo-1590792166785-64d7c037f4b9?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80'
            }
        ];

        // å¯¼èˆªåŠŸèƒ½
        function navigateTo(page) {
            const pageMap = {
                'çŸ¥è¯†åº“': 'knowledge',
                'ä½¿ç”¨å¸®åŠ©': 'help',
                'éšç§æ”¿ç­–': 'privacy'
            };
            
            const pageKey = pageMap[page] || page;
            
            switch(pageKey) {
                case 'knowledge':
                    window.location.href = '../index.html';
                    break;
                case 'help':
                    alert('æ­£åœ¨è·³è½¬åˆ°ä½¿ç”¨å¸®åŠ©é¡µé¢...');
                    break;
                case 'privacy':
                    alert('æ­£åœ¨è·³è½¬åˆ°éšç§æ”¿ç­–é¡µé¢...');
                    break;
                default:
                    console.log(`æœªçŸ¥é¡µé¢: ${page}`);
            }
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.addEventListener('DOMContentLoaded', function() {
            renderTable(recordsData);
            updateTotalRecords();
        });

        // æ¸²æŸ“è¡¨æ ¼
        function renderTable(data) {
            const tbody = document.getElementById('recordsTableBody');
            tbody.innerHTML = '';

            data.forEach(record => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><strong>${record.id}</strong></td>
                    <td>${record.user}</td>
                    <td><span class="crop-tag ${record.cropType}">${record.crop}</span></td>
                    <td><strong>${record.disease}</strong></td>
                    <td>
                        <div class="confidence-progress">
                            <div class="confidence-fill ${record.confidenceLevel}" style="width: ${record.confidence}%"></div>
                        </div>
                        <div class="confidence-text">${record.confidence}%</div>
                    </td>
                    <td>
                        <span class="severity-badge ${record.severityLevel}">
                            ${record.severity}
                        </span>
                    </td>
                    <td>${record.time}</td>
                    <td>
                        <span class="status-badge ${record.status}">
                            ${record.status === 'correct' ? 'âœ“ æ­£ç¡®' : record.status === 'warning' ? 'âš  éœ€ç¡®è®¤' : 'âœ— é”™è¯¯'}
                        </span>
                    </td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn" onclick='viewDetail(${JSON.stringify(record)})' title="æŸ¥çœ‹è¯¦æƒ…">
                                ğŸ‘ï¸
                            </button>
                            <button class="action-btn" onclick="downloadRecord('${record.id}')" title="ä¸‹è½½æŠ¥å‘Š">
                                ğŸ“¥
                            </button>
                            <button class="action-btn" onclick="shareRecord('${record.id}')" title="åˆ†äº«">
                                â†—ï¸
                            </button>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // æ›´æ–°æ€»è®°å½•æ•°
        function updateTotalRecords() {
            document.getElementById('totalRecords').textContent = recordsData.length;
        }

        // è¿”å›ä¸Šä¸€é¡µ
        function goBack() {
            window.history.back();
        }

        // æœç´¢åŠŸèƒ½
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const filtered = recordsData.filter(record => 
                record.id.toLowerCase().includes(searchTerm) ||
                record.disease.toLowerCase().includes(searchTerm) ||
                record.user.toLowerCase().includes(searchTerm) ||
                record.crop.toLowerCase().includes(searchTerm)
            );
            renderTable(filtered);
        });

        // ç­›é€‰åŠŸèƒ½
        document.getElementById('cropFilter').addEventListener('change', applyFilters);
        document.getElementById('statusFilter').addEventListener('change', applyFilters);
        document.getElementById('severityFilter').addEventListener('change', applyFilters);

        function applyFilters() {
            const cropFilter = document.getElementById('cropFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
            const severityFilter = document.getElementById('severityFilter').value;
            
            let filtered = recordsData;
            
            if (cropFilter) {
                filtered = filtered.filter(record => record.cropType === cropFilter);
            }
            
            if (statusFilter) {
                filtered = filtered.filter(record => record.status === statusFilter);
            }
            
            if (severityFilter) {
                filtered = filtered.filter(record => record.severityLevel === severityFilter);
            }
            
            renderTable(filtered);
        }

        // é‡ç½®ç­›é€‰
        function resetFilters() {
            document.getElementById('searchInput').value = '';
            document.getElementById('cropFilter').value = '';
            document.getElementById('statusFilter').value = '';
            document.getElementById('severityFilter').value = '';
            renderTable(recordsData);
        }

        // å¯¼å‡ºæ•°æ®
        function exportData() {
            alert('æ­£åœ¨å¯¼å‡º12æ¡è®°å½•ä¸ºExcelæ–‡ä»¶...');
            // å®é™…é¡¹ç›®ä¸­è¿™é‡Œä¼šè°ƒç”¨åç«¯APIå¯¼å‡º
        }

        // æŸ¥çœ‹è¯¦æƒ…
        function viewDetail(record) {
            // å¡«å……æ¨¡æ€æ¡†å†…å®¹
            document.getElementById('modalRecordId').textContent = record.id;
            document.getElementById('modalUser').textContent = record.user;
            document.getElementById('modalCrop').textContent = record.crop;
            document.getElementById('modalDisease').textContent = record.disease;
            document.getElementById('modalDescription').textContent = record.description;
            document.getElementById('modalConfidence').textContent = record.confidence + '%';
            document.getElementById('modalSeverity').textContent = record.severity;
            document.getElementById('modalTime').textContent = record.time;
            document.getElementById('modalLocation').textContent = record.location + ' (' + record.coordinates + ')';
            document.getElementById('modalModel').textContent = record.model;
            document.getElementById('modalTreatmentStatus').textContent = record.treatmentStatus;
            document.getElementById('modalFeedback').textContent = record.feedback;
            document.getElementById('modalTreatmentContent').textContent = record.treatment;
            document.getElementById('modalImage').src = record.image;
            document.getElementById('modalImage').alt = record.disease + 'è¯†åˆ«å›¾ç‰‡';
            
            // æ˜¾ç¤ºæ¨¡æ€æ¡†
            document.getElementById('detailModal').classList.add('active');
        }

        // å…³é—­æ¨¡æ€æ¡†
        function closeModal() {
            document.getElementById('detailModal').classList.remove('active');
        }

        // ä¸‹è½½è®°å½•æŠ¥å‘Š
        function downloadRecord(recordId) {
            const record = recordsData.find(r => r.id === recordId);
            if (record) {
                alert(`æ­£åœ¨ä¸‹è½½è®°å½• ${recordId} çš„è¯¦ç»†æŠ¥å‘Š...`);
                // å®é™…é¡¹ç›®ä¸­è¿™é‡Œä¼šç”ŸæˆPDFæŠ¥å‘Šå¹¶ä¸‹è½½
            }
        }

        // åˆ†äº«è®°å½•
        function shareRecord(recordId) {
            const record = recordsData.find(r => r.id === recordId);
            if (record) {
                if (navigator.share) {
                    navigator.share({
                        title: `ç—…è™«å®³è¯†åˆ«è®°å½• - ${record.id}`,
                        text: `ä½œç‰©ï¼š${record.crop}ï¼Œç—…å®³ï¼š${record.disease}ï¼Œä¸¥é‡ç¨‹åº¦ï¼š${record.severity}`,
                        url: window.location.href
                    });
                } else {
                    alert('å¤åˆ¶äº†è®°å½•ä¿¡æ¯ï¼Œå¯ä»¥ç²˜è´´åˆ°å…¶ä»–åº”ç”¨ä¸­åˆ†äº«ã€‚');
                }
            }
        }

        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        document.getElementById('detailModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // é¡µè„šé“¾æ¥ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.footer-links a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const pageText = this.textContent.trim();
                navigateTo(pageText);
            });
        });
    </script>
</body>
</html>